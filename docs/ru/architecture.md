# Архитектура

Проект BYOND 2.0 представляет собой игровой движок с клиент-серверной архитектурой, построенный на .NET 10.0 с использованием C# для ядра и Lua/C# для скриптинга.

## Структура проекта

Проект разделен на несколько ключевых компонентов:

*   **Core:** Библиотека классов, содержащая основную логику и общие компоненты, которые используются как сервером, так и клиентом. Это включает в себя игровую логику, управление состоянием и скриптовый движок.
*   **Server:** Консольное приложение, которое запускает игровой сервер. Он отвечает за управление игровым миром, обработку подключений клиентов и выполнение скриптов.
*   **Client:** Консольное приложение, которое представляет собой игровой клиент. Он отвечает за рендеринг игрового мира, обработку пользовательского ввода и взаимодействие с сервером.
*   **Editor:** Графическое приложение для редактирования игровых карт и других ресурсов.
*   **Compiler:** Компилятор OpenDream, интегрированный в виде проекта, который компилирует DM-скрипты в понятный для движка формат.
*   **scripts:** Каталог, содержащий скрипты на Lua и C#, которые определяют игровую логику.
*   **tests:** Проект с модульными тестами для проверки корректности работы компонентов проекта.

## Диаграмма архитектуры

```mermaid
graph TD
    subgraph Клиент
        C[Client]
    end

    subgraph Сервер
        S[Server]
        subgraph Scripting
            LUA[Lua Scripts]
            CS[C# Scripts]
        end
    end

    subgraph Общие компоненты
        Co[Core]
        CMP[Compiler]
    end

    C -- "TCP/IP" --> S
    S -- "Использует" --> Co
    C -- "Использует" --> Co
    S -- "Выполняет" --> LUA
    S -- "Выполняет" --> CS
    S -- "Использует" --> CMP
```
