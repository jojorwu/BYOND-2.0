# Архитектура проекта

Этот документ описывает архитектуру игрового движка BYOND-2.0.

## Обзор

Проект состоит из двух основных компонентов:

1.  **Core**: Библиотека классов, содержащая основную логику движка.
2.  **Server**: Консольное приложение, которое размещает движок и управляет игровым циклом.

## Компоненты

### Core

Компонент `Core` отвечает за обработку сценариев. Он использует библиотеку [NLua](https://github.com/NLua/NLua) для встраивания интерпретатора Lua в среду .NET.

-   **`Scripting.cs`**: Этот класс предоставляет оболочку для функциональности NLua, позволяя движку выполнять строки Lua или файлы сценариев.

### Server

Компонент `Server` — это точка входа в приложение. Его обязанности включают:

-   Инициализация компонента `Core`.
-   Загрузка и выполнение начального сценария Lua (`scripts/main.lua`).
-   Мониторинг каталога `scripts` на предмет изменений в файлах Lua. При обнаружении изменений сервер автоматически перезагружает измененный сценарий, обеспечивая возможность горячей перезагрузки.

## Поток данных

1.  Приложение `Server` запускается.
2.  Оно создает экземпляр класса `Core.Scripting`.
3.  Сервер выполняет файл `scripts/main.lua`, чтобы начать игру.
4.  Сервер отслеживает изменения в файлах `.lua` в каталоге `scripts`.
5.  Когда файл изменяется, сервер использует экземпляр `Core.Scripting` для повторного выполнения обновленного сценария.
