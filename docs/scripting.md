# Скриптинг

Игровой движок BYOND 2.0 использует Lua в качестве языка для написания скриптов. Это позволяет разработчикам быстро изменять и расширять игровую логику без необходимости перекомпиляции всего проекта.

## Движок Lua

Интеграция с Lua осуществляется с помощью библиотеки NLua, которая обеспечивает связь между C# и Lua. Это позволяет вызывать функции C# из Lua и наоборот.

## Горячая перезагрузка

Одной из ключевых особенностей движка является горячая перезагрузка скриптов. Сервер отслеживает изменения в файлах в каталоге `scripts` и автоматически перезагружает их при обнаружении изменений. Это значительно ускоряет процесс разработки, так как изменения в игровой логике можно увидеть в реальном времени без перезапуска сервера.

Механизм горячей перезагрузки реализован с использованием `FileSystemWatcher` и имеет защиту от многократных срабатываний (debouncing) с помощью `System.Threading.Timer`.

## Точка входа

Основной точкой входа для скриптов является файл `scripts/main.lua`. При запуске сервера или после горячей перезагрузки этот файл выполняется первым. В нем должна находиться основная логика инициализации игрового мира и другие важные компоненты.
