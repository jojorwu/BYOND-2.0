# Руководство: Создание глагола

Это руководство основано на руководстве "Создание объекта" и показывает, как добавить `verb` (глагол) к объекту, чтобы сделать его интерактивным.

## 1. Что такое глагол?

В DM `verb` — это процедура, которую может вызвать игрок для определенного объекта, атома или тайла. Глаголы являются основным способом взаимодействия игроков с игровым миром и обычно появляются в контекстном меню, вызываемом правой кнопкой мыши.

## 2. Добавление глагола к объекту

Давайте добавим новый глагол к объекту `apple`, который мы создали в предыдущем руководстве. Этот глагол позволит игроку `inspect` (осмотреть) яблоко, чтобы увидеть, сколько укусов осталось.

Откройте файл `scripts/apple.dm` и добавьте глагол `inspect()`:

```dm
// scripts/apple.dm
/obj/item/apple
    var/bites_left = 3

    verb/eat()
        set src in usr // Этот глагол нацелен на пользователя (игрока).

        if (bites_left > 0)
            bites_left--
            usr << "Вы откусываете яблоко. Осталось [bites_left] укусов."
            if (bites_left == 0)
                usr << "Вы доели яблоко."
                del src
        else
            usr << "Больше нечего есть!"

    // Глагол 'inspect' позволяет игрокам проверить состояние яблока.
    verb/inspect()
        set src in usr
        usr << "Вы осматриваете яблоко. Осталось [bites_left] укусов."
```

Строка `set src in usr` — это распространенный в DM паттерн, который задает контекст глагола. Он указывает, что источник действия (`src`, яблоко) должен быть доступен пользователю (`usr`, игрок, вызывающий глагол). Обычно это означает, что игрок держит предмет или находится рядом с ним.

## 3. Запуск и тестирование

Теперь вы можете протестировать свои изменения. Запустите сервер из корня проекта:

```bash
./run_server.sh
```

Подключитесь с помощью клиента. Теперь, когда вы щелкнете правой кнопкой мыши по яблоку, вы увидите опцию "inspect" в контекстном меню. Нажав на нее, вы увидите сообщение с количеством оставшихся укусов.
